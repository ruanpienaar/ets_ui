<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>ETS UI</title>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.0/css/bootstrap.min.css" integrity="sha384-PDle/QlgIONtM1aqA2Qemk5gPOE7wFq8+Em+G/hmo5Iq0CCmYZLv3fVRDJ4MMwEA" crossorigin="anonymous">
        <link rel="stylesheet" href="css/main.css">
        <link rel="icon" href="images/favicon.png">
        <link rel="stylesheet" href="highlight/styles/default.css">
        <script src="highlight/highlight.pack.js"></script>
    </head>
    <body>
        <main role="main">
        <div class="container-fluid">
            <div>
                <h3><a href="index.html">All Tables</a></h3>
            </div>
            <div>
                <hr />
            </div>
            <div>
                <h2><span id="tblname"></span></h2>
            </div>

            <div class="container-fluid">
                <div class="row">
                    <div class="col">
                        <div>
                            <h5>Entry Lookup</h5>
                        </div>
                        <div>
                            <label for="ets_key">Key</label>
                        </div>
                        <textarea id="ets_key"></textarea>
                        <br />
                        <button type="button" class="btn btn-primary" id="lookup" >Lookup</button>
                        <button type="button" class="btn btn-warning" id="lookup_erl_code">Get Erlang Code</button>
                        <a target="_blank" href="lookup_help.html" >Help</a>
                    </div>
                    <div class="col">
                        <div>
                            <h5>Query for entries matching a pattern</h5>
                        </div>
                        <div>
                            <label for="match_object_spec">Match object Ex. {123, '_', ... </label>
                        </div>
                        <textarea cols="40" rows="3" id="match_object_spec"></textarea>
                        <br />
                        <button class="btn btn-primary" id="match_object_btn" >Query</button>
                        <button type="button" class="btn btn-warning">Get Erlang Code</button>
                        <a target="_blank" href="match_object_help.html" >Help</a>
                    </div>
                    <div class="col">
                        <div>
                            <h5>Query for entries with conditions</h5>
                        </div>
                        <div>
                            <label for="match_spec">Match Ex. {[$5,$5,$5,$- |'$1'],'$2'}</label>
                        </div>
                        <textarea cols="40" rows="3" id="match_spec"></textarea>
                        <br />
                        <button class="btn btn-primary" id="match_btn" >Query</button>
                        <button type="button" class="btn btn-warning">Get Erlang Code</button>
                        <a target="_blank" href="match_help.html" >Help</a>
                    </div>
                </div>
            </div>

            <hr />

            <div class="container-fluid">
                <div class="row">
                    <div class="col">
                        <div style="text-align: center;">
                            <button type="button" class="btn btn-primary" id="fetch">Get entries</button>
                            <label for="pagesize">Results per page</label>
                            <select id="pagesize" class="btn btn-primary">
                                <option value="3">3</option>
                                <option value="20">20</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                                <option value="500">500</option>
                            </select>
                            <button type="button" id="next" class="btn btn-secondary" >Next Results</button>
                            <button type="button" id="toggle_entry_json" class="btn btn-dark">Toggle Entries/JSON</button>
                            <div style="display: none;">Continuation:<span id="continuation"></span></div>
                            <input type="hidden" name="continuation_val" id="continuation_val" />
                            <div style="display: none;">Data type:<span id="key_data_type"></span></div>
                            <input type="hidden" name="key_data_type_val" id="key_data_type_val" />
                        </div>
                    </div>
                </div>
            </div>
            <div style="color: red;" id="error_block">
            </div>
            <hr />
            <div>
                <h5>ETS table entries/JSON</h5>
            </div>
            <div id="erlang_entries_div">
                <pre><code class="Erlang" id="erlang_entries"></code></pre>
            </div>
            <div id="query_results_div" style="display: none;">
                <pre><code class="json" id="query_results"></code></pre>
            </div>
        </div>
        </main>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.0/js/bootstrap.min.js" integrity="sha384-7aThvCh9TypR7fIc2HV4O/nFMVCBwyIUKL8XCtKE+8xgCgl/PQGuFsvShjr74PBp" crossorigin="anonymous"></script>
        <script type="text/javascript" src="js/common.js"></script>
        <script type="text/javascript" src="js/query.js"></script>
    </body>
</html>
